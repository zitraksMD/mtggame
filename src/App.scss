/* --- Глобальные стили --- */
html, body, #root { // Добавил #root из код1 для консистентности
  height: 100%;
  width: 100%;
  margin: 0 !important;
  padding: 0;
  overflow: hidden; // Запрещаем скролл всей страницы
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
               Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; // Пример системного шрифта
  background-color: #111; // Фон для областей вне приложения (если видны)
  color: white; // Базовый цвет текста
  overscroll-behavior: contain; // Отключаем "оттягивание" на мобильных
  -webkit-tap-highlight-color: transparent; // Убираем синюю подсветку при тапе
}

/* --- Основной контейнер приложения --- */
.app-container {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background-color: #000;
  position: relative;
  box-sizing: border-box;
  padding-bottom: 45px; // Пример: 70px (высота навбара) + 5px (запас)


  // Оставляем только верхний отступ (если он нужен и работает в Mini App)
    // padding-bottom: env(safe-area-inset-bottom, 0px); // <-- УДАЛИТЬ ИЛИ ЗАКОММЕНТИРОВАТЬ
  // padding-left/right тоже убраны ранее
}

/* === СТИЛИ ШАПКИ (Из Кода 1) === */
.app-header {
  display: flex;
  justify-content: space-between; // Разносим лево|центр|право
  align-items: center;            // Вертикальное выравнивание
  background: linear-gradient(to bottom, #2a3045, #1c202b); // Фон
  width: 100%;
  flex-shrink: 0;
  box-sizing: border-box;
  z-index: 10;

  // ▼▼▼ Отступы для безопасных зон ПРИМЕНЯЮТСЯ К ШАПКЕ ▼▼▼
  padding-top: env(safe-area-inset-top, 24px); // Отодвигаем ВЕСЬ контент шапки от верха экрана (подберите fallback)
  padding-bottom: 8px;                        // Нижний отступ внутри шапки
  padding-left: env(safe-area-inset-left, 10px); // Боковые отступы (подберите fallback)
  padding-right: env(safe-area-inset-right, 10px);
}

.header-left {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0; // Чтобы контент мог сжиматься, если имя длинное
}
.player-avatar { width: 38px; height: 38px; border-radius: 6px; flex-shrink: 0;}
.player-info { display: flex; flex-direction: column; align-items: flex-start; gap: 1px; line-height: 1.1; overflow: hidden;}
.player-name { font-size: 14px; font-weight: 600; color: #e2e8f0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100px; /* Ограничение ширины для имени */ }
.player-power { font-size: 13px; font-weight: 500; color: #a0aec0; }

// --- Центральная часть ---
.header-center {
  display: flex;
  justify-content: center; // Центрируем ресурсы внутри блока
  align-items: center;
  gap: 10px;               // Отступ между ресурсами (подберите)
  flex-grow: 1;          // Позволяем занимать доступное место (можно убрать)
  min-width: 0;            // Для корректной работы flex
}

// --- Правая часть ---
.header-right {
  display: flex;
  align-items: center;
  justify-content: flex-end; // Прижимаем к правому краю
  min-width: 0;
}

// --- Общие стили для групп ресурсов ---
.resource-group { // Можно добавить этот класс к .header-center и .header-right
   display: flex;
   align-items: center;
   gap: 10px; // Или разный gap для центра и правого края
}
.resource-item {
  display: flex;
  align-items: center;
  gap: 5px;
  background-color: rgba(0, 0, 0, 0.3);
  padding: 4px 8px;
  border-radius: 5px;
  white-space: nowrap; // Не переносить числа

  span { color: white; font-size: 13px; font-weight: 600; }
}
.resource-icon { width: 16px; height: 16px; object-fit: contain; }


/* --- Область для сменяемого контента (вкладки, уровень) --- */
.content-area {
  flex: 1; // Занимает все доступное пространство по высоте
  position: relative; // Для позиционирования дочерних анимируемых вкладок
  overflow: hidden; // Обрезает контент вкладок во время анимации
}

/*
* Стиль для корневых элементов экранов внутри content-area (motion.div).
* Framer Motion обычно управляет позицией через inline-стили.
*/
.content-area > div {
  position: absolute; // Важно для AnimatePresence mode="wait"
  width: 100%;      // <--- Заставляем обертку занять всю ширину
  height: 100%;     // <--- Заставляем обертку занять всю высоту
  top: 0;
  left: 0;
  // overflow-y: auto; // Можно добавить, если нужен скролл ВНУТРИ экрана, а не всей content-area
}

/*
* Убедитесь, что у каждой вкладки/экрана (MainMenu, Inventory, etc.)
* задан свой фон в их собственных SCSS файлах,
* чтобы они корректно перекрывали друг друга.
*/


/* --- ❗ СТАРЫЕ ФИКСИРОВАННЫЕ ЭЛЕМЕНТЫ (Закомментированы или Удалены) --- */
/* Этот блок уже был корректно закомментирован в код2, как и требовалось в код1 */

/*
// Отображение имени пользователя (ТЕПЕРЬ ЧАСТЬ .app-header)
.username-display {
  position: fixed; // <-- УДАЛИТЬ/ЗАКОММЕНТИРОВАТЬ
  top: 0px; // <-- УДАЛИТЬ/ЗАКОММЕНТИРОВАТЬ
  left: 15px;
  // ... прочие стили ...
}
*/

/*
// Контейнер для PowerLevel (ТЕПЕРЬ ЧАСТЬ .app-header)
.power-level-wrapper { // Замените на актуальный класс вашего PowerLevel компонента
  position: fixed; // <-- УДАЛИТЬ/ЗАКОММЕНТИРОВАТЬ
  top: 30px; // <-- УДАЛИТЬ/ЗАКОММЕНТИРОВАТЬ
  left: 15px;
  // ... прочие стили ...
}
*/

/*
// Старый фиксированный ресурс бар (ТЕПЕРЬ ЧАСТЬ .app-header)
.resource-bar-fixed { // Старый класс для фиксированного бара
  position: fixed;       // <-- УДАЛИТЬ/ЗАКОММЕНТИРОВАТЬ
  top: 0px;            // <-- УДАЛИТЬ/ЗАКОММЕНТИРОВАТЬ
  right: 15px;
  // ... прочие стили ...
}
*/
/* Стили для внутренних элементов старого бара также закомментированы ниже или удалены */
/*
.resource-item { ... }
.resource-icon { ... }
.gold-amount, .diamond-amount { ... }
*/


/* --- Экраны загрузки / подготовки --- */
// Эти стили остаются как были в код2
.loading-screen,
.fade-screen {
  position: absolute; // Позиционируем относительно .content-area или .app-container
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column; // Для текста и возможного спиннера
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.85); // Чуть темнее фон
  z-index: 50; // Выше обычного контента

  h2 {
    color: white;
    font-size: 1.4rem;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    margin: 0;
    padding: 10px;
  }
}

.fade-screen {
  background-color: #000; // Непрозрачный черный
}


/* --- Стили для BottomNav --- */
// Эти стили остаются как были в код2 (закомментированный пример)
/* Убедитесь, что стили BottomNav импортируются или определены ниже,
  и что у него НЕТ position: fixed. Он должен быть частью flex-потока .app-container */
// @import './components/BottomNav.scss';

/* Пример стилей BottomNav без fixed: */


/* --- Дополнительные стили (если нужны) --- */
// Эти стили остаются как были в код2
// Стили для .text-white, .text-xl, если это классы Tailwind/Bootstrap,
// но используются без подключения самой библиотеки, их нужно определить:
.text-white {
  color: white;
}
.text-xl {
  font-size: 1.25rem; // Пример для xl
}

/* --- UsernamePopup Specific Styles --- */
// Эти стили остаются как были в код2
.username-popup {
  position: absolute; // Или fixed, если он должен быть поверх всего и всегда
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: rgba(30, 30, 40, 0.95);
  padding: 20px;
  border-radius: 10px;
  z-index: 100; // Выше шапки и контента
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
  // Добавьте стили для input, button внутри попапа
}