// src/components/Forge.scss
// --- –ü–û–õ–ù–´–ô –ò –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î –° –ó–ê–ú–ï–ù–ê–ú–ò –ò–ó –∫–æ–¥1 ---

@use 'sass:color'; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å sass:color

// --- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ---
$forge-bg-start: #2c303a;
$forge-bg-end: #1e2128;
$panel-bg-start: #3a4050;
$panel-bg-end: #2a2e3c;
$panel-border: rgba(120, 130, 160, 0.25);
$text-color: #e2e8f0;
$text-color-muted: #a0b0c5;
$text-color-title: #ffffff;
$divider-color: rgba(120, 130, 160, 0.2);
$text-color-owned-enough: #68d391;
$text-color-owned-not-enough: #fc8181;

$rarity-color-common: #a0aec0;
$rarity-color-uncommon: #68d391;
$rarity-color-rare: #63b3ed;
$rarity-color-epic: #b15dff;
$rarity-color-legendary: #ffc107;
$rarity-color-mythic: #E53E3E; // << –ù–æ–≤—ã–π –∫—Ä–∞—Å–Ω—ã–π (Tailwind Red 600)

$tab-text: #a0b0c5;
$tab-text-hover: #e2e8f0;
$tab-active-text: #1a1d23;
$tab-active-uncommon-bg: $rarity-color-uncommon;
$tab-active-rare-bg: $rarity-color-rare;
$tab-active-epic-bg: $rarity-color-epic;
$tab-active-legendary-bg: $rarity-color-legendary;
$tab-active-mythic-bg: $rarity-color-mythic;

$button-forge-bg-start: #58a6ff;
$button-forge-bg-end: #3a8cff;
$button-forge-bg-hover-start: #70b5ff;
$button-forge-bg-hover-end: #559eff;
$button-forge-text: white;
$button-disabled-bg-start: #6c757d;
$button-disabled-bg-end: #5a6268;
$button-disabled-text: #adb5bd;
$button-forge-shadow-active: rgba($button-forge-bg-start, 0.6);

$indicator-craftable-bg: $rarity-color-legendary;
$indicator-craftable-text: black;
$indicator-tab-bg: #ffcc00;
$indicator-tab-text: black;

// --- –ë–∞–∑–æ–≤—ã–π —Å—Ç–∏–ª—å –∏–∫–æ–Ω–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ ---
.recipe-item-display {
    width: 50px; height: 50px; border: 2px solid;
    border-radius: 8px;
    padding: 4px; display: flex; align-items: center; justify-content: center;
    overflow: hidden; transition: all 0.2s ease;
    position: relative; box-shadow: inset 0 2px 6px rgba(0,0,0,0.7);
    
    &.rarity-common {
      border-color: rgba($rarity-color-common, 0.7); // –°–µ—Ä–∞—è —Ä–∞–º–∫–∞
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é SASS color.adjust –¥–ª—è –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞
      background-color: color.adjust($rarity-color-common, $lightness: -35%, $alpha: 1); // –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Å–ø–ª–æ—à–Ω–æ–π —Ñ–æ–Ω
  }
  &.rarity-uncommon {
      border-color: rgba($rarity-color-uncommon, 0.8); // –ó–µ–ª–µ–Ω–∞—è —Ä–∞–º–∫–∞
      background-color: color.adjust($rarity-color-uncommon, $lightness: -30%, $saturation: -10%, $alpha: 1); // –¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω—ã–π —Å–ø–ª–æ—à–Ω–æ–π —Ñ–æ–Ω
  }
  &.rarity-rare {
      border-color: rgba($rarity-color-rare, 0.8); // –°–∏–Ω—è—è —Ä–∞–º–∫–∞
      background-color: color.adjust($rarity-color-rare, $lightness: -30%, $saturation: -10%, $alpha: 1); // –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Å–ø–ª–æ—à–Ω–æ–π —Ñ–æ–Ω
  }
  &.rarity-epic {
      border-color: rgba($rarity-color-epic, 0.8); // –§–∏–æ–ª–µ—Ç–æ–≤–∞—è —Ä–∞–º–∫–∞
      background-color: color.adjust($rarity-color-epic, $lightness: -30%, $saturation: -10%, $alpha: 1); // –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Å–ø–ª–æ—à–Ω–æ–π —Ñ–æ–Ω
  }
  &.rarity-legendary {
      border-color: rgba($rarity-color-legendary, 0.9); // –ó–æ–ª–æ—Ç–∞—è —Ä–∞–º–∫–∞ (—è—Ä—á–µ)
      background-color: color.adjust($rarity-color-legendary, $lightness: -30%, $saturation: -10%, $alpha: 1); // –¢–µ–º–Ω–æ-–∑–æ–ª–æ—Ç–æ–π —Å–ø–ª–æ—à–Ω–æ–π —Ñ–æ–Ω
  }
  // --- >>> –ò–ó–ú–ï–ù–ï–ù–ò–Ø –î–õ–Ø MYTHIC <<< ---
  &.rarity-mythic {
      border-color: $rarity-color-mythic; // << –ö–†–ê–°–ù–ê–Ø —Å–ø–ª–æ—à–Ω–∞—è —Ä–∞–º–∫–∞
      // –ó–∞—Ç–µ–º–Ω—è–µ–º –ö–†–ê–°–ù–´–ô —Ü–≤–µ—Ç –¥–ª—è —Ñ–æ–Ω–∞
      background-color: color.adjust($rarity-color-mythic, $lightness: -30%, $saturation: -5%, $alpha: 1); // << –¢–ï–ú–ù–û-–ö–†–ê–°–ù–´–ô —Å–ø–ª–æ—à–Ω–æ–π —Ñ–æ–Ω
  }

    img { max-width: 100%; max-height: 100%; object-fit: contain; display: block; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.7)); position: relative; z-index: 1;}

    // –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤
    &.input.dimmed {
        opacity: 0.4; filter: grayscale(85%); border-style: dashed;
        border-color: #555; box-shadow: none;
        &::after { // –°–∫—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —É –∑–∞—Ç–µ–º–Ω–µ–Ω–Ω—ã—Ö
            display: none !important;
            animation: none !important;
            opacity: 0 !important;
        }
    }

    // --- –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô —Ñ–æ–Ω —á–µ—Ä–µ–∑ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç (Shimmer) ---
    &::after {
        content: ''; position: absolute; inset: -2px; z-index: 0;
        background-size: 250% 100%;
        background-repeat: no-repeat;
        animation: shimmer-lines 3.5s infinite linear;
        opacity: 0; transition: opacity 0.3s ease;
        border-radius: inherit; pointer-events: none;
    }

    // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ shimmer –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
    &.rarity-uncommon::after {
        opacity: 0.5; animation-duration: 4.2s;
        background: linear-gradient(120deg, transparent 33%, color.change(color.adjust($rarity-color-uncommon, $lightness: 25%), $alpha: 0.3) 48%, color.change(color.adjust($rarity-color-uncommon, $lightness: 15%), $alpha: 0.4) 51%, color.change(color.adjust($rarity-color-uncommon, $lightness: 25%), $alpha: 0.3) 54%, transparent 67%);
    }
    &.rarity-rare::after {
        opacity: 0.6; animation-duration: 4s;
        background: linear-gradient(110deg, transparent 30%, color.change(color.adjust($rarity-color-rare, $lightness: 25%), $alpha: 0.35) 47%, color.change(color.adjust($rarity-color-rare, $lightness: 15%), $alpha: 0.45) 50%, color.change(color.adjust($rarity-color-rare, $lightness: 25%), $alpha: 0.35) 53%, transparent 70%);
    }
    &.rarity-epic::after {
        opacity: 0.7; animation-duration: 3.8s;
        background: linear-gradient(105deg, transparent 32%, color.change(color.adjust($rarity-color-epic, $lightness: 25%), $alpha: 0.4) 46%, color.change(color.adjust($rarity-color-epic, $lightness: 15%), $alpha: 0.5) 50%, color.change(color.adjust($rarity-color-epic, $lightness: 25%), $alpha: 0.4) 54%, transparent 68%);
    }
    &.rarity-legendary::after {
        opacity: 0.8; animation-duration: 3.5s;
        background: linear-gradient(115deg, transparent 30%, color.change(color.adjust($rarity-color-legendary, $lightness: 25%), $alpha: 0.45) 45%, color.change(color.adjust($rarity-color-legendary, $lightness: 10%), $alpha: 0.55) 50%, color.change(color.adjust($rarity-color-legendary, $lightness: 25%), $alpha: 0.45) 55%, transparent 70%);
    }
    &.rarity-mythic::after {
        opacity: 0.9; animation-duration: 2.8s; background-size: 200% 100%;
        background: linear-gradient(100deg, transparent 35%, color.change(color.adjust($rarity-color-mythic, $lightness: 25%), $alpha: 0.5) 48%, color.change(color.adjust($rarity-color-mythic, $lightness: 15%), $alpha: 0.6) 52%, color.change(color.adjust($rarity-color-mythic, $lightness: 25%), $alpha: 0.5) 56%, transparent 65%);
    }
} // --- –ö–æ–Ω–µ—Ü –±–∞–∑–æ–≤–æ–≥–æ .recipe-item-display ---


// --- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –ö—É–∑–Ω–∏—Ü—ã ---
.forge-screen {
  position: relative; // –ú–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö absolute —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  width: 100%;      // –ó–∞–Ω–∏–º–∞–µ–º 100% —à–∏—Ä–∏–Ω—ã —Ä–æ–¥–∏—Ç–µ–ª—è (.content-area)
  height: 100%;     // –ó–∞–Ω–∏–º–∞–µ–º 100% –≤—ã—Å–æ—Ç—ã —Ä–æ–¥–∏—Ç–µ–ª—è (.content-area)
  background: linear-gradient(180deg, $forge-bg-start, $forge-bg-end);
  color: $text-color;
  display: flex; flex-direction: column;
  overflow: hidden; // –í–µ—Å—å —ç–∫—Ä–∞–Ω –Ω–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —á–∞—Å—Ç–∏ –º–æ–≥—É—Ç)
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  box-sizing: border-box; // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ padding/border –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ä–∞–∑–º–µ—Ä—ã
}

// --- –®–∞–ø–∫–∞ –ö—É–∑–Ω–∏—Ü—ã ---
.forge-header {
    width: 100%; height: 65px;
    
    display: flex; justify-content: center; align-items: center;
    padding: 0 20px; flex-shrink: 0; box-sizing: border-box;
    background: linear-gradient(to bottom, rgba(40, 45, 60, 0.7), rgba(30, 35, 50, 0.5));
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;

    h2 {
        margin: 0; font-size: 24px; font-weight: 700;
        color: $text-color-title; text-shadow: 0 2px 5px rgba(0, 0, 0, 0.6);
    }
}

// --- –í–∫–ª–∞–¥–∫–∏ –†–µ–¥–∫–æ—Å—Ç–∏ ---
.forge-rarity-tabs {
    display: flex; overflow-x: auto; white-space: nowrap;
    padding: 12px 20px; background-color: rgba(0, 0, 0, 0.2);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    flex-shrink: 0; width: 100%; box-sizing: border-box;
    scrollbar-width: none;
    &::-webkit-scrollbar { display: none; }
    -webkit-overflow-scrolling: touch;

    .rarity-tab-button {
        display: inline-block; padding: 9px 20px; margin-right: 12px;
        border: 2px solid rgba(120, 130, 160, 0.3); border-radius: 22px;
        font-size: 14px; font-weight: 600; cursor: pointer;
        transition: all 0.25s ease; position: relative;
        background-color: rgba(60, 65, 80, 0.5); color: $tab-text;
        flex-shrink: 0;
        &:last-child { margin-right: 0; }

        // –¶–≤–µ—Ç–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö
        &.rarity-uncommon { border-color: rgba($rarity-color-uncommon, 0.4); color: rgba($rarity-color-uncommon, 0.7); }
        &.rarity-rare { border-color: rgba($rarity-color-rare, 0.4); color: rgba($rarity-color-rare, 0.7); }
        &.rarity-epic { border-color: rgba($rarity-color-epic, 0.4); color: rgba($rarity-color-epic, 0.7); }
        &.rarity-legendary { border-color: rgba($rarity-color-legendary, 0.4); color: rgba($rarity-color-legendary, 0.7); }
        &.rarity-mythic { border-color: rgba($rarity-color-mythic, 0.4); color: rgba($rarity-color-mythic, 0.7); }

        &:hover:not(.active) {
            background-color: rgba(80, 85, 100, 0.7); color: $tab-text-hover;
            &.rarity-uncommon { border-color: $rarity-color-uncommon; }
            &.rarity-rare { border-color: $rarity-color-rare; }
            &.rarity-epic { border-color: $rarity-color-epic; }
            &.rarity-legendary { border-color: $rarity-color-legendary; }
            &.rarity-mythic { border-color: $rarity-color-mythic; }
        }
        // –°—Ç–∏–ª—å –∞–∫—Ç–∏–≤–Ω–æ–π
        &.active {
            color: $tab-active-text; font-weight: 700; transform: scale(1.02);
            &.rarity-uncommon { background-color: $tab-active-uncommon-bg; border-color: lighten($tab-active-uncommon-bg, 10%); box-shadow: 0 0 10px rgba($tab-active-uncommon-bg, 0.6); }
            &.rarity-rare { background-color: $tab-active-rare-bg; border-color: lighten($tab-active-rare-bg, 10%); box-shadow: 0 0 10px rgba($tab-active-rare-bg, 0.6); }
            &.rarity-epic { background-color: $tab-active-epic-bg; border-color: lighten($tab-active-epic-bg, 10%); box-shadow: 0 0 12px rgba($tab-active-epic-bg, 0.6); }
            &.rarity-legendary { background-color: $tab-active-legendary-bg; border-color: lighten($tab-active-legendary-bg, 10%); box-shadow: 0 0 14px rgba($tab-active-legendary-bg, 0.6); }
            &.rarity-mythic { background-color: $tab-active-mythic-bg; border-color: lighten($tab-active-mythic-bg, 10%); box-shadow: 0 0 14px rgba($tab-active-mythic-bg, 0.6); }
        }
        // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä '!'
        .tab-indicator {
            position: absolute; top: -5px; right: -5px;
            background-color: $indicator-tab-bg; color: $indicator-tab-text;
            width: 18px; height: 18px; border-radius: 50%;
            font-size: 11px; font-weight: bold;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 7px rgba($indicator-tab-bg, 0.9); line-height: 1;
        }
    }
}

// --- –ö–û–ù–¢–ï–ô–ù–ï–† –¥–ª—è Swiper + –î–µ—Ç–∞–ª–µ–π (–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Forge.jsx) ---
.forge-main-content {
  flex-grow: 1; // –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –º–µ—Å—Ç–æ
  display: flex;
  flex-direction: column; // Swiper –Ω–∞–¥ –¥–µ—Ç–∞–ª—è–º–∏
  overflow: hidden; // –î–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º —Å–∫—Ä–æ–ª–ª–æ–º
  padding: 0 0 20px 0; // –û—Ç—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å–Ω–∏–∑—É
  box-sizing: border-box;
  min-height: 0; // –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã flex –∏ overflow
}

// --- –°–µ–∫—Ü–∏—è Swiper ---
.forge-swiper-section {
  flex-shrink: 0; // –ù–µ —Å–∂–∏–º–∞–µ—Ç—Å—è –ø–æ –≤—ã—Å–æ—Ç–µ
  position: relative;
  margin-bottom: 15px;
  padding: 0 20px; // –ë–æ–∫–æ–≤—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è Swiper
  box-sizing: border-box;

  .forge-swiper-wrapper { // –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è Swiper –∏ —Å–æ–æ–±—â–µ–Ω–∏—è "–Ω–µ—Ç —Ä–µ—Ü–µ–ø—Ç–æ–≤"
     width: 100%;
     box-sizing: border-box;
     display: flex; flex-direction: column;
  }
  .no-recipes {
    padding: 40px 0; text-align: center; color: $text-color-muted; font-style: italic;
  }

  // –°—Ç–∏–ª–∏ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Swiper
  .forge-recipes-swiper.centered-swiper {
    padding-top: 5px;      // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è scale
    padding-bottom: 5px;
    padding-left: 0;       // << –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ù–ï–¢
    padding-right: 0;      // << –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ù–ï–¢
    width: 100%;           // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Å–∞–º swiper –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É —Å–µ–∫—Ü–∏–∏
    overflow: hidden;      // –û–±—Ä–µ–∂–µ–º –≤—ã–ª–µ–∑–∞—é—â–∏–µ —á–∞—Å—Ç–∏ (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω overflow: visible)

    .swiper-wrapper {
         align-items: center; // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å–ª–∞–π–¥–æ–≤
    }

    .swiper-slide {
        // --- >>> –ó–ê–î–ê–ï–ú –Ø–í–ù–£–Æ –®–ò–†–ò–ù–£ <<< ---
        width: 60%; // –ü—Ä–∏–º–µ—Ä: 60%. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ 50%, 70% –∏ —Ç.–¥.
        // width: auto !important; // –£–ë–ò–†–ê–ï–ú auto
        // --- >>> ------------------- <<< ---
        height: auto;
        display: flex; justify-content: center; align-items: center; // –≠—Ç–æ –æ—Å—Ç–∞–µ—Ç—Å—è

        // –°—Ç–∏–ª–∏ –¥–ª—è transform, opacity, active/inactive –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –±—ã–ª–∏
        transition: transform 0.4s ease, opacity 0.4s ease;
        opacity: 0.5;
        transform: scale(0.75);

        &.swiper-slide-active {
             opacity: 1;
             transform: scale(1); // –ê–∫—Ç–∏–≤–Ω—ã–π - –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
             z-index: 1;

             .compact-recipe-card {
                 box-shadow: 0 8px 25px rgba(0,0,0,0.5); // –ê–∫—Ç–∏–≤–Ω–∞—è —Ç–µ–Ω—å
                 // –•–æ–≤–µ—Ä –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
                 &:hover:not(.disabled) {
                   transform: translateY(-2px) scale(1.01);
                 }
             }
        }
        // –°–±—Ä–æ—Å —Ö–æ–≤–µ—Ä–∞ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö
        &:not(.swiper-slide-active) {
           .compact-recipe-card:hover {
             transform: none;
             box-shadow: 0 3px 8px rgba(0,0,0,0.3);
             border-color: $panel-border;
             background: linear-gradient(165deg, lighten($panel-bg-start, 5%), lighten($panel-bg-end, 5%));
           }
        }

        // –°—Ç–∏–ª–∏ —Å–∞–º–æ–π –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ Swiper
        .compact-recipe-card {
            display: flex; flex-direction: column; align-items: center;
            padding: 10px; // –ù–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
            border-radius: 10px;
            background: linear-gradient(165deg, lighten($panel-bg-start, 5%), lighten($panel-bg-end, 5%));
            border: 1px solid $panel-border;
            cursor: pointer; transition: all 0.2s ease-out;
            min-width: 110px;
            position: relative;
            box-shadow: 0 3px 8px rgba(0,0,0,0.3); // –¢–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

            &.disabled { /* ... —Å—Ç–∏–ª–∏ disabled ... */
                opacity: 0.5; cursor: not-allowed; filter: grayscale(50%);
                 &:hover { transform: none; box-shadow: 0 3px 8px rgba(0,0,0,0.3); border-color: $panel-border;}
            }
            // –†–∞–º–∫–∏ —Ä–µ–¥–∫–æ—Å—Ç–∏
            &.rarity-border-common { border-left: 4px solid $rarity-color-common; }
            &.rarity-border-uncommon { border-left: 4px solid $rarity-color-uncommon; }
            &.rarity-border-rare { border-left: 4px solid $rarity-color-rare; }
            &.rarity-border-epic { border-left: 4px solid $rarity-color-epic; }
            &.rarity-border-legendary { border-left: 4px solid $rarity-color-legendary; }
            &.rarity-border-mythic { border-left: 4px solid $rarity-color-mythic; }

            // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫—Ä–∞—Ñ—Ç–∞ '!'
            .compact-craft-indicator {
                position: absolute; top: 5px; right: 5px;
                background-color: $indicator-craftable-bg; color: $indicator-craftable-text;
                width: 16px; height: 16px; border-radius: 50%;
                font-size: 10px; font-weight: bold; line-height: 16px; text-align: center;
                box-shadow: 0 0 6px rgba($indicator-craftable-bg, 0.8);
                z-index: 2;
            }
            // –ò–∫–æ–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
            .recipe-item-display.output.compact {
                width: 60px; height: 60px; margin-bottom: 8px;
                // –ù–∞—Å–ª–µ–¥—É–µ—Ç —Ñ–æ–Ω/—Ä–∞–º–∫—É –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ .recipe-item-display
                &::after { display: none; } // –û—Ç–∫–ª—é—á–∞–µ–º shimmer
                border-width: 2px;
            }
            // –ù–∞–∑–≤–∞–Ω–∏–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
            .compact-recipe-name {
                font-size: 12px; color: $text-color; text-align: center;
                white-space: normal; line-height: 1.3; max-width: 90px;
                word-break: break-word;
            }
        } // --- –ö–æ–Ω–µ—Ü .compact-recipe-card ---
      } // --- –ö–æ–Ω–µ—Ü .swiper-slide ---
  } // --- –ö–æ–Ω–µ—Ü .centered-swiper ---
} // --- –ö–æ–Ω–µ—Ü .forge-swiper-section ---


// --- –°–µ–∫—Ü–∏—è –î–µ—Ç–∞–ª–µ–π –†–µ—Ü–µ–ø—Ç–∞ ---
.forge-recipe-details-section {
    flex-grow: 1;
    overflow-y: auto; overflow-x: hidden;
    padding: 10px 20px 0 20px;
    box-sizing: border-box;
    display: flex; flex-direction: column;
    align-items: center; justify-content: flex-start; // justify-content: flex-start –≤–∞–∂–Ω–æ –¥–ª—è margin-top: auto —É .crafting-area-bottom
    min-height: 0;
    background: radial-gradient(ellipse at center top, rgba(60, 65, 80, 0.5) 0%, rgba(42, 46, 60, 0.8) 80%, $forge-bg-end 110%);
    box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4);
    transition: box-shadow 0.4s ease;
    border-radius: 15px;
    margin: 0 10px;


  // –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ä–µ—Ü–µ–ø—Ç –Ω–µ –≤—ã–±—Ä–∞–Ω –∏–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –ø—É—Å—Ç–∞
  .no-recipe-selected {
      margin: auto; // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç
      padding: 40px 20px; // –î–∞–µ–º –º–µ—Å—Ç–æ
      color: $text-color-muted;
      font-style: italic;
      text-align: center;
  }

  // --- –û–ë–õ–ê–°–¢–¨ –ö–†–ê–§–¢–ê (–î–µ—Ç–∞–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞) ---
  .crafting-area {
    position: relative;
    width: 100%;
    max-width: 360px; // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å. —à–∏—Ä–∏–Ω—É
    // min-height –£–ë–ò–†–ê–ï–ú, –≤—ã—Å–æ—Ç–∞ –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏ grid
    margin-bottom: 20px;
    padding: 20px; // –£–ø—Ä–æ—â–∞–µ–º –ø–∞–¥–¥–∏–Ω–≥–∏
    padding-top: 55px; // –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–ø–æ–¥–±–µ—Ä–∏—Ç–µ —Ç–æ—á–Ω–µ–µ!)
    box-sizing: border-box;
    display: flex; // –û—Å—Ç–∞–≤–ª—è–µ–º flex –¥–ª—è –æ–±—â–µ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–≤–µ—Ä—Ö—É, —Å–µ—Ç–∫–∞, –Ω–∏–∑)
    flex-direction: column;
    align-items: center;
    background: radial-gradient(ellipse at center, rgba(60, 65, 80, 0.7) 0%, rgba(42, 46, 60, 0.9) 80%);
    border-radius: 15px;
    border: 2px solid $panel-border;
    box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4);
    transition: border-color 0.4s ease, box-shadow 0.4s ease;
    flex-grow: 1; // –ü–æ–∑–≤–æ–ª—è–µ–º —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

    // --- >>> –°—Ç–∏–ª–∏ —Ä–∞–º–∫–∏ –∏ —Å–≤–µ—á–µ–Ω–∏—è –ø–æ –∫–ª–∞—Å—Å—É —Ä–µ–¥–∫–æ—Å—Ç–∏ (–∏–∑ –∫–æ–¥2) <<< ---
    @function rarity-glow($color, $opacity: 0.6, $blur: 15px, $spread: 3px) {
        @return 0 0 $blur $spread rgba($color, $opacity);
    }
    &.rarity-output-common {
        border-color: rgba($rarity-color-common, 0.8);
        box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4),
                    rarity-glow($rarity-color-common, 0.4, 10px, 2px);
    }
    &.rarity-output-uncommon {
        border-color: $rarity-color-uncommon;
        box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4),
                    rarity-glow($rarity-color-uncommon, 0.5);
    }
    &.rarity-output-rare {
        border-color: $rarity-color-rare;
        box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4),
                    rarity-glow($rarity-color-rare, 0.6);
    }
    &.rarity-output-epic {
        border-color: $rarity-color-epic;
        box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4),
                    rarity-glow($rarity-color-epic, 0.7, 18px, 4px);
    }
    &.rarity-output-legendary {
        border-color: $rarity-color-legendary;
        box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4),
                    rarity-glow($rarity-color-legendary, 0.8, 20px, 4px);
    }
    &.rarity-output-mythic {
        border-color: $rarity-color-mythic;
        box-shadow: 0 8px 25px rgba(0,0,0,0.6), inset 0 1px 8px rgba(0,0,0,0.4),
                    rarity-glow($rarity-color-mythic, 0.8, 22px, 5px);
    }
    // --- >>> –ö–æ–Ω–µ—Ü —Å—Ç–∏–ª–µ–π —Ä–∞–º–∫–∏ <<< ---


    // --- –ó–ê–ì–û–õ–û–í–û–ö (–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ .crafting-area - –∏–∑ –∫–æ–¥2) ---
    .crafting-area-title-wrapper {
      position: absolute;
      top: 20px; // –ò–õ–ò top: 2% –∫–∞–∫ –±—ã–ª–æ –≤ –∫–æ–¥1 - –æ—Å—Ç–∞–≤–∏–º 20px –∏–∑ –∫–æ–¥2
      left: 50%;
      transform: translateX(-50%); // –¢–æ–ª—å–∫–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
      z-index: 100; // –ü–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ
      width: auto; min-width: 150px; max-width: 80%;
      padding: 8px 20px;
      background: linear-gradient(180deg, lighten($panel-bg-start, 5%), $panel-bg-start);
      border: 1px solid lighten($panel-border, 10%);
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);

      .output-name-focus { // –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Ä–∞–º–∫–∏
          font-size: 16px;
          font-weight: 700;
          text-align: center;
          margin: 0;
          color: $text-color-title;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          text-shadow: 0 1px 3px rgba(0,0,0,0.8);

          // –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ (–∏–∑ –∫–æ–¥2)
          &.rarity-text-common { color: $rarity-color-common; }
          &.rarity-text-uncommon { color: $rarity-color-uncommon; }
          &.rarity-text-rare { color: $rarity-color-rare; }
          &.rarity-text-epic { color: $rarity-color-epic; }
          &.rarity-text-legendary { color: $rarity-color-legendary; }
          &.rarity-text-mythic { color: $rarity-color-mythic; }
      }
    }

    // --- ‚ñº‚ñº‚ñº –ù–û–í–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –°–ï–¢–ö–ò –ü–†–ï–î–ú–ï–¢–û–í (–∏–∑ –∫–æ–¥1) ‚ñº‚ñº‚ñº ---
    .crafting-items-grid {
        position: relative; // –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è SVG –≤–Ω—É—Ç—Ä–∏
        display: grid;
        grid-template-columns: repeat(3, 1fr); // 3 —Ä–∞–≤–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∏
        // 3 —Ä—è–¥–∞: –≤–µ—Ä—Ö–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∏–∂–Ω–∏–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
        grid-template-rows: 1fr auto 1fr;
        gap: 10px; // –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É —è—á–µ–π–∫–∞–º–∏ —Å–µ—Ç–∫–∏ (–º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å)
        width: 100%; // –ó–∞–Ω–∏–º–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—É—é —à–∏—Ä–∏–Ω—É
        max-width: 250px; // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å. —à–∏—Ä–∏–Ω—É —Å–µ—Ç–∫–∏ (–ø–æ–¥–±–µ—Ä–∏—Ç–µ!)
        aspect-ratio: 1 / 1; // –î–µ–ª–∞–µ–º –æ–±–ª–∞—Å—Ç—å —Å–µ—Ç–∫–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π (–∏–ª–∏ –ø–æ–¥–±–µ—Ä–∏—Ç–µ)
        margin: 20px auto; // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–µ—Ç–∫—É –∏ –¥–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø—ã
        align-items: center; // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —è—á–µ–µ–∫ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
        justify-items: center; // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —è—á–µ–µ–∫ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        z-index: 5; // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Å–µ—Ç–∫–∞ –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –Ω–æ –Ω–∞–¥ —Ñ–æ–Ω–æ–º

        // SVG –õ–ò–ù–ò–ò (–¢–µ–ø–µ—Ä—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ .crafting-items-grid)
        .connector-lines-svg {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; // –ü–æ–¥ –∏–∫–æ–Ω–∫–∞–º–∏
            pointer-events: none;
            overflow: visible; // –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –ª–∏–Ω–∏–∏ –º–æ–≥–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã viewBox SVG
            // –í–ê–ñ–ù–û: viewBox="0 0 360 400" –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª–∏–Ω–∏–π –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –°–ö–û–†–†–ï–ö–¢–ò–†–û–í–ê–¢–¨!
            // –ù–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ .crafting-items-grid –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —è—á–µ–µ–∫.
        }

        // –°—Ç–∏–ª–∏ –õ–ò–ù–ò–ô (–∏–∑ –∫–æ–¥2, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–º –±—ã–ª–∏ active/inactive —Å—Ç–∏–ª–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è)
        .connector-line {
            stroke-width: 3px;
            stroke-linecap: round;
            transition: stroke 0.3s ease, filter 0.3s ease, opacity 0.3s ease; // –î–æ–±–∞–≤–∏–ª–∏ opacity –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏

            &.line-inactive { // –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è –ª–∏–Ω–∏—è
                stroke: rgba($text-color-muted, 0.3);
                filter: blur(0.5px);
                animation: none; // << –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –Ω–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏
                opacity: 0.7;    // << –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π
            }

            &.line-active { // –ê–∫—Ç–∏–≤–Ω–∞—è –ª–∏–Ω–∏—è
                // –ë–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –ª–∏–Ω–∏–∏
                stroke: $rarity-color-legendary; // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∂–µ–ª—Ç—ã–π –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
                // ===>>> –ü–†–ò–ú–ï–ù–Ø–ï–ú –ê–ù–ò–ú–ê–¶–ò–Æ <<<===
                animation: pulse-line 1.8s infinite ease-in-out; // –ù–∞–∑–≤–∞–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ–≤—Ç–æ—Ä, –ø–ª–∞–≤–Ω–æ—Å—Ç—å
            }
        }


        // --- –ò–ö–û–ù–ö–ò –ü–†–ï–î–ú–ï–¢–û–í (–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∫–∏ - –ª–æ–≥–∏–∫–∞ –∏–∑ –∫–æ–¥1) ---

        // –†–ï–ó–£–õ–¨–¢–ê–¢
        .output-item-focus {
            // üî¥ –£–ë–ò–†–ê–ï–ú position: absolute –∏ top/left/transform –ò–ó –ö–û–î2 üî¥
            z-index: 10; // –ù–∞–¥ –ª–∏–Ω–∏—è–º–∏ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏
            width: auto;
            display: flex; flex-direction: column; align-items: center;
            // --- ‚ñº‚ñº‚ñº –î–û–ë–ê–í–õ–Ø–ï–ú –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ç–∫–µ (–∏–∑ –∫–æ–¥1) ‚ñº‚ñº‚ñº ---
            grid-column: 2 / 3; // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞
            grid-row: 2 / 3;    // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä—è–¥

            .recipe-item-display.output.focus {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞–∑–º–µ—Ä—ã –∏–∑ –∫–æ–¥1 (–∫—Ä—É–ø–Ω–µ–µ)
                width: 60px; height: 60px;
                margin-bottom: 0;
                border-width: 3px;
                // –ù–∞—Å–ª–µ–¥—É–µ—Ç —Å—Ç–∏–ª–∏ —Ä–µ–¥–∫–æ—Å—Ç–∏/—Ñ–æ–Ω–∞/shimmer –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ .recipe-item-display
            }
        }

        // –ò–ù–ì–†–ï–î–ò–ï–ù–¢–´
        .input-item-focus {
             // üî¥ –£–ë–ò–†–ê–ï–ú position: absolute –ò–ó –ö–û–î2 üî¥
             z-index: 2; // –ù–∞–¥ –ª–∏–Ω–∏—è–º–∏
             width: auto; // –®–∏—Ä–∏–Ω–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É (–∏–∫–æ–Ω–∫–∞ + —Å—á–µ—Ç—á–∏–∫) - –±—ã–ª–æ 60px –≤ –∫–æ–¥2, auto –∏–∑ –∫–æ–¥1 –ª—É—á—à–µ
             display: flex; flex-direction: column; align-items: center;

             // –ò–∫–æ–Ω–∫–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ (—Å—Ç–∏–ª–∏ –∏–∑ –∫–æ–¥2)
             .recipe-item-display.input.focus {
                 width: 42px; height: 42px; // –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ (–∏–∑ –∫–æ–¥2)
                 box-shadow: 0 3px 8px rgba(0,0,0,0.4), inset 0 1px 4px rgba(0,0,0,0.6);
                 // –ù–∞—Å–ª–µ–¥—É–µ—Ç —Ñ–æ–Ω/—Ä–∞–º–∫—É/shimmer –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ .recipe-item-display
                 // –ö–ª–∞—Å—Å .dimmed –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏–∑ JSX
                 &.dimmed { /* —Å—Ç–∏–ª–∏ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ */ }
             }
             // –°—á–µ—Ç—á–∏–∫ –ø–æ–¥ –∏–∫–æ–Ω–∫–æ–π (—Å—Ç–∏–ª–∏ –∏–∑ –∫–æ–¥2)
             .input-count {
                 margin-top: 4px; font-size: 11px; padding: 1px 5px;
                 background-color: rgba(0,0,0,0.6); border-radius: 4px; line-height: 1.2;
                 white-space: nowrap;
                 // –¶–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã .enough / .not-enough
                 &.enough { color: $text-color-owned-enough; }
                 &.not-enough { color: $text-color-owned-not-enough; }
             }

             // --- ‚ñº‚ñº‚ñº –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–ï –í –°–ï–¢–ö–ï —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã input-pos-* (–∏–∑ –∫–æ–¥1) ‚ñº‚ñº‚ñº ---
             &.input-pos-0 { // –ù–∏–∂–Ω–∏–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π
                 grid-column: 2 / 3;
                 grid-row: 3 / 4;
                 // üî¥ –£–ë–ò–†–ê–ï–ú top/left/transform –ò–ó –ö–û–î2 üî¥
             }
             &.input-pos-1 { // –í–µ—Ä—Ö–Ω–∏–π –ª–µ–≤—ã–π
                 grid-column: 1 / 2;
                 grid-row: 1 / 2;
                 // üî¥ –£–ë–ò–†–ê–ï–ú top/left/transform/rotate –ò–ó –ö–û–î2 üî¥
                 // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å transform: rotate(-10deg); –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –Ω–∞–∫–ª–æ–Ω
                 // transform: rotate(-10deg);
             }
             &.input-pos-2 { // –í–µ—Ä—Ö–Ω–∏–π –ø—Ä–∞–≤—ã–π
                 grid-column: 3 / 4;
                 grid-row: 1 / 2;
                 // üî¥ –£–ë–ò–†–ê–ï–ú top/right/transform/rotate –ò–ó –ö–û–î2 üî¥
                 // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å transform: rotate(10deg); –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –Ω–∞–∫–ª–æ–Ω
                 // transform: rotate(10deg);
             }
             // –ï—Å–ª–∏ –±—É–¥–µ—Ç 4–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å .input-pos-3 –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ grid-column: 1 / 2; grid-row: 3 / 4; –∏ —Ç.–¥.
        }

    } // --- ‚ñ≤‚ñ≤‚ñ≤ –ö–û–ù–ï–¶ –ö–û–ù–¢–ï–ô–ù–ï–†–ê –î–õ–Ø –°–ï–¢–ö–ò –ü–†–ï–î–ú–ï–¢–û–í ‚ñ≤‚ñ≤‚ñ≤ ---


    // --- –ù–ò–ñ–ù–Ø–Ø –ß–ê–°–¢–¨ (–°—Ç–æ–∏–º–æ—Å—Ç—å + –ö–Ω–æ–ø–∫–∞) ---
    // (–û—Å—Ç–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ .crafting-area, –Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ flex —Ä–æ–¥–∏—Ç–µ–ª—è - –∏–∑ –∫–æ–¥2)
    .crafting-area-bottom {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%; // –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        margin-top: auto; // <--- –ü—Ä–∏–∂–∏–º–∞–µ—Ç –∫ –Ω–∏–∑—É .crafting-area (—Ç.–∫. –æ–Ω flex-column)
        padding-top: 20px; // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø –æ—Ç —Å–µ—Ç–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        z-index: 10; // –ù–∞–¥ —Å–µ—Ç–∫–æ–π, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    }

    .cost-focus { // –°—Ç–∏–ª–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–∑ –∫–æ–¥2
        display: flex; gap: 20px; align-items: center; justify-content: center;
        width: auto; // –®–∏—Ä–∏–Ω–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É + –ø–∞–¥–¥–∏–Ω–≥–∏
        padding: 8px 20px; // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã —Ä–∞–º–∫–∏
        margin-bottom: 20px; // << –£–ú–ï–ù–¨–®–ò–õ–ò –æ—Ç—Å—Ç—É–ø –∏–∑ –∫–æ–¥2, –±—ã–ª 30px
        background: linear-gradient(rgba($panel-bg-end, 0.85), rgba($panel-bg-start, 0.7));
        border: 1px solid $panel-border;
        border-radius: 8px; // –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ
        box-shadow: inset 0 1px 2px rgba(255,255,255,0.05), 0 2px 4px rgba(0,0,0,0.4); // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∏ –≤–Ω–µ—à–Ω—è—è —Ç–µ–Ω—å
        font-size: 14px; color: $text-color;

        span { display: flex; align-items: center; gap: 6px; font-weight: 500; }
        img { width: 18px; height: 18px; filter: drop-shadow(0 1px 1px rgba(0,0,0,0.5));}
    }

    // –ö–Ω–æ–ø–∫–∞ –∫—Ä–∞—Ñ—Ç–∞ (–í–Ω—É—Ç—Ä–∏ .crafting-area-bottom - —Å—Ç–∏–ª–∏ –∏–∑ –∫–æ–¥2)
    .action-focus {
        width: 100%; display: flex; justify-content: center;

        .forge-button.focus-button {
            padding: 12px 40px; // –î–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ—à–∏—Ä–µ
            font-size: 16px; font-weight: 600;
            // –ù–∞—Å–ª–µ–¥—É–µ—Ç —Å—Ç–∏–ª–∏ :hover, :active, :disabled –æ—Ç .forge-button
            // –£–±–∏—Ä–∞–µ–º bottom: 15% –∏–∑ –æ–±—â–µ–≥–æ .forge-button
            bottom: auto;
            position: relative; // –ò–ª–∏ static, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
        }
    }

  } // --- –ö–æ–Ω–µ—Ü .crafting-area ---
} // --- –ö–æ–Ω–µ—Ü .forge-recipe-details-section ---


// --- –û–±—â–∏–π —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏ –£–ª—É—á—à–∏—Ç—å/Forge ---
.forge-button {
    padding: 12px 35px; border: none; border-radius: 8px;
    background: linear-gradient(to bottom, $button-forge-bg-start, $button-forge-bg-end);
    color: $button-forge-text; font-weight: 600; font-size: 17px; // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä
    cursor: pointer; transition: all 0.2s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    position: relative; // –û—Å—Ç–∞–≤–∏–º relative –¥–ª—è –æ–±—â–∏—Ö —Å–ª—É—á–∞–µ–≤, –Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–º –≤ .action-focus
    // bottom: 15%; // << –ó–ê–ö–û–ú–ú–ï–ù–¢–ò–†–û–í–ê–ù–û, —á—Ç–æ–±—ã –Ω–µ –≤–ª–∏—è–ª–æ –Ω–∞ –∫–Ω–æ–ø–∫—É –∫—Ä–∞—Ñ—Ç–∞

    &:hover:not(:disabled) {
        background: linear-gradient(to bottom, $button-forge-bg-hover-start, $button-forge-bg-hover-end);
        box-shadow: 0 6px 15px rgba(darken($button-forge-bg-start, 20%), 0.5);
        transform: translateY(-2px) scale(1.02); color: #fff;
    }
    &:active:not(:disabled) { transform: translateY(-1px) scale(1); box-shadow: 0 2px 5px rgba(0,0,0,0.4); }
    &:disabled {
        background: linear-gradient(to bottom, $button-disabled-bg-start, $button-disabled-bg-end);
        color: $button-disabled-text; cursor: not-allowed; box-shadow: none; transform: none;
    }
    // –ê–Ω–∏–º–∞—Ü–∏—è —Å–≤–µ—á–µ–Ω–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    // &.can-craft { animation: pulse-button-glow 1.5s infinite ease-in-out; }
}

// --- –ê–Ω–∏–º–∞—Ü–∏–∏ –∫—Ä–∞—Ñ—Ç–∞ (–∏–∑ –∫–æ–¥2) ---
// –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å .crafting-in-progress –∫ .crafting-area
.crafting-area.crafting-in-progress {
  // –°–∫—Ä—ã–≤–∞–µ–º –ª–∏–Ω–∏–∏ –≤–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
  .crafting-items-grid .connector-lines-svg { // –£—Ç–æ—á–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
    transition: opacity 0.2s ease-out;
    opacity: 0;
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫ (–≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∫–∏)
  .crafting-items-grid .input-item-focus { // –£—Ç–æ—á–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
    // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∑–∞–¥–µ—Ä–∂–∫–∞ (var(--input-index) –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ JSX!), —Ñ—É–Ω–∫—Ü–∏—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
    animation: input-fly-to-center 0.6s ease-in forwards;
    // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∫–æ–Ω–∫–∏ (0s, 0.1s, 0.2s)
    animation-delay: calc(var(--input-index, 0) * 0.1s);
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–ª–∏ transform: rotate)
    &.input-pos-1 { --start-rotate: -10deg; }
    &.input-pos-2 { --start-rotate: 10deg; }
    // –£ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö --start-rotate –±—É–¥–µ—Ç 0 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –≤—ã—Ö–æ–¥–Ω–æ–π –∏–∫–æ–Ω–∫–∏ (–≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∫–∏)
  .crafting-items-grid .output-item-focus { // –£—Ç–æ—á–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
      opacity: 0; // –°–Ω–∞—á–∞–ª–∞ —Å–∫—Ä—ã—Ç–∞
      // –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —É–ª–µ—Ç—è—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
      animation: output-pulse-appear 0.8s 0.5s ease-out forwards; // –∏–º—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∑–∞–¥–µ—Ä–∂–∫–∞, –ø–ª–∞–≤–Ω–æ—Å—Ç—å, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
  }

  // –°–∫—Ä—ã–≤–∞–µ–º –Ω–∏–∂–Ω–∏–π –±–ª–æ–∫ –≤–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
  .crafting-area-bottom {
      transition: opacity 0.3s ease-out;
      opacity: 0; // –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–∫—Ä—ã—Ç—å
      pointer-events: none; // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–ª–∏–∫–∏
  }
}

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –∫—Ä–∞—Ñ—Ç–∞ (–∫–æ–≥–¥–∞ –∫–ª–∞—Å—Å .crafting-in-progress —É–±–∏—Ä–∞–µ—Ç—Å—è)
.crafting-area {
    .crafting-items-grid .connector-lines-svg, // –£—Ç–æ—á–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
    .crafting-area-bottom {
       transition: opacity 0.3s 0.2s ease-in; // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ—è–≤–ª–µ–Ω–∏–µ–º
       opacity: 1;
       pointer-events: auto;
     }
     .crafting-items-grid .output-item-focus { // –£—Ç–æ—á–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
        opacity: 1; // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –≤—ã—Ö–æ–¥–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∏–º
        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é (–µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ forwards)
        animation: none;
     }
     .crafting-items-grid .input-item-focus { // –£—Ç–æ—á–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é (–µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ forwards)
        animation: none;
        opacity: 1; // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –≤—Ö–æ–¥–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–¥–∏–º—ã
        // transform: rotate(var(--start-rotate, 0deg)); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–≤–æ—Ä–æ—Ç, –µ—Å–ª–∏ –±—ã–ª
     }
}

// –û–≤–µ—Ä–ª–µ–π –¥–ª—è –≤–∏–¥–µ–æ (–∏–∑ –∫–æ–¥2)
.forge-video-overlay {
     position: fixed; // –ò–ª–∏ absolute, –µ—Å–ª–∏ forge-screen —Ä–æ–¥–∏—Ç–µ–ª—å
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
     background-color: rgba(0, 0, 0, 0.8); // –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
     display: flex;
     justify-content: center;
     align-items: center;
     z-index: 1000; // –ü–æ–≤–µ—Ä—Ö –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

     video {
       max-width: 90%;
       max-height: 90%;
       width: auto;
       height: auto;
       object-fit: contain; // –ß—Ç–æ–±—ã –≤–∏–¥–µ–æ –Ω–µ –æ–±—Ä–µ–∑–∞–ª–æ—Å—å
       border: 2px solid gold; // –ü—Ä–∏–º–µ—Ä —Ä–∞–º–∫–∏
       box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); // –ü—Ä–∏–º–µ—Ä —Å–≤–µ—á–µ–Ω–∏—è
     }
}

// --- @keyframes –ê–ù–ò–ú–ê–¶–ò–ò (–∏–∑ –∫–æ–¥2 + –Ω–æ–≤—ã–µ –¥–ª—è –∫—Ä–∞—Ñ—Ç–∞) ---
@keyframes pulse-line { // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ª–∏–Ω–∏–π
  0% {
    stroke: $rarity-color-legendary; // –ù–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
    filter: drop-shadow(0 0 3px rgba($rarity-color-legendary, 0.6));
    stroke-width: 3px;
  }
  50% {
    stroke: lighten($rarity-color-legendary, 15%); // –ë–æ–ª–µ–µ —Å–≤–µ—Ç–ª—ã–π
    filter: drop-shadow(0 0 6px rgba($rarity-color-legendary, 0.9));
    stroke-width: 3.5px;
  }
  100% {
    stroke: $rarity-color-legendary; // –í–æ–∑–≤—Ä–∞—Ç –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É
    filter: drop-shadow(0 0 3px rgba($rarity-color-legendary, 0.6));
    stroke-width: 3px;
  }
}

// –ê–Ω–∏–º–∞—Ü–∏—è "—É–ª–µ—Ç–∞–Ω–∏—è" –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –∫ —Ü–µ–Ω—Ç—Ä—É
@keyframes input-fly-to-center {
  0% {
    // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–µ—Ç–∫–æ–π
    // transform: translate(0, 0) rotate(var(--start-rotate, 0deg)); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç
    opacity: 1;
    scale: 1;
  }
  100% {
    // –ö–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è - –ø—Ä–∏–º–µ—Ä–Ω–æ —Ü–µ–Ω—Ç—Ä —Å–µ—Ç–∫–∏ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏—Å—Ö–æ–¥–Ω–æ–π —è—á–µ–π–∫–∏)
    // –¢–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–±–∏—Ä–∞—Ç—å, —Ç.–∫. –∑–∞–≤–∏—Å–∏—Ç –æ—Ç gap –∏ —Ä–∞–∑–º–µ—Ä–∞ —Å–µ—Ç–∫–∏
    // –≠—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª–µ—Ç–∞ –∫ —Ü–µ–Ω—Ç—Ä—É grid row 2 / col 2
    // transform: translate( calc( (1 - var(--grid-col, 2)) * 50% ), calc( (1 - var(--grid-row, 2)) * 50% ) ) rotate(0deg);
    // –ü–†–û–©–ï: –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä—ã–≤–∞–µ–º –∏ —É–º–µ–Ω—å—à–∞–µ–º
    opacity: 0;
    scale: 0.2;
    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å transform –∫ —Ü–µ–Ω—Ç—Ä—É, –Ω–æ —Å grid —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ —Ç–æ—á–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å
    // transform: translate(0, -50%) rotate(0deg); // –ü—Ä–∏–º–µ—Ä –¥–ª—è –Ω–∏–∂–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
  }
}

// –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –ø—É–ª—å—Å–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
@keyframes output-pulse-appear {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  60% { // –ü–æ—è–≤–ª–µ–Ω–∏–µ
    opacity: 1;
    transform: scale(1.15); // –ù–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ
  }
  80% { // –û—Ç—Å–∫–æ–∫
    transform: scale(0.95);
  }
  100% { // –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
    opacity: 1;
    transform: scale(1);
  }
}

// --- –ê–ù–ò–ú–ê–¶–ò–ò ---

@keyframes pulse-epic-border {
0% { box-shadow: 0 0 10px rgba($rarity-color-epic, 0.3); border-color: rgba($rarity-color-epic, 0.5);}
50% { box-shadow: 0 0 18px rgba($rarity-color-epic, 0.5); border-color: color.adjust($rarity-color-epic, $lightness: 10%);}
100% { box-shadow: 0 0 10px rgba($rarity-color-epic, 0.3); border-color: rgba($rarity-color-epic, 0.5);}   
    }
    
@keyframes pulse-legendary-border {
0% { box-shadow: 0 0 12px rgba($rarity-color-legendary, 0.3); border-color: rgba($rarity-color-legendary, 0.6);}
50% { box-shadow: 0 0 20px rgba($rarity-color-legendary, 0.6); border-color: color.adjust($rarity-color-legendary, $lightness: 10%);}
100% { box-shadow: 0 0 12px rgba($rarity-color-legendary, 0.3); border-color: rgba($rarity-color-legendary, 0.6);}
     }
    
@keyframes pulse-mythic-border {
0% { box-shadow: 0 0 15px rgba($rarity-color-mythic, 0.4); border-color: rgba($rarity-color-mythic, 0.6);}
50% { box-shadow: 0 0 22px rgba($rarity-color-mythic, 0.7); border-color: color.adjust($rarity-color-mythic, $lightness: 10%);}
100% { box-shadow: 0 0 15px rgba($rarity-color-mythic, 0.4); border-color: rgba($rarity-color-mythic, 0.6);} 
    }
    
@keyframes pulse-button-glow { // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏
0% { box-shadow: 0 4px 10px rgba(0,0,0,0.4), 0 0 12px 0px $button-forge-shadow-active; }
50% { box-shadow: 0 6px 12px rgba(0,0,0,0.4), 0 0 18px 3px $button-forge-shadow-active; }
100% { box-shadow: 0 4px 10px rgba(0,0,0,0.4), 0 0 12px 0px $button-forge-shadow-active; } 
    }
    
@keyframes shimmer-lines { // –ê–Ω–∏–º–∞—Ü–∏—è Shimmer –¥–ª—è –∏–∫–æ–Ω–æ–∫
0% { background-position: -150% 0; }
100% { background-position: 150% 0; }
    }


// --- –ö–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ ---